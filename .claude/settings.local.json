{
  "permissions": {
    "allow": [
      "WebSearch",
      "Bash(npm run build:*)",
      "Bash(npx vite build:*)",
      "Bash(sort:*)",
      "Bash(npm audit:*)",
      "Bash(find:*)",
      "Bash(npm install:*)",
      "Bash(npm run type-check:*)",
      "Bash(npm run dev:*)",
      "Read(//c/Users/Jzine/**)",
      "Bash(supabase functions logs:*)",
      "Bash(node:*)",
      "Bash(npx supabase db reset:*)",
      "Bash(npx supabase start:*)",
      "Bash(npx supabase:*)",
      "Bash(docker logs:*)",
      "Bash(docker exec:*)",
      "Bash(pkill:*)",
      "Bash(curl:*)",
      "Bash(deno run:*)",
      "Bash(docker ps:*)",
      "Bash(psql:*)",
      "Bash(lsof:*)",
      "Bash(netstat:*)",
      "Bash(ss:*)",
      "Bash(timeout 5 curl:*)",
      "Bash(kill:*)",
      "Bash(xargs:*)",
      "Bash(cat:*)",
      "Bash(GOOGLE_GEMINI_API_KEY=AIzaSyD9v5Vm-ccH1hx4hW-jpbjVb8ChWzuaU28 deno run --allow-net --allow-env test-google-ai.ts)",
      "Bash(docker restart:*)",
      "Bash(timeout 30 curl:*)",
      "Bash(python3:*)",
      "Bash(docker run:*)",
      "Bash(npx claude-code-templates@latest --mcp=devtools/context7 --yes)",
      "Bash(npx claude-code-templates@latest --mcp=integration/github-integration --yes)",
      "Bash(npx claude-code-templates@latest --mcp=web/web-fetch --yes)",
      "Bash(npx claude-code-templates@latest --mcp=database/supabase --yes)",
      "Bash(npx claude-code-templates@latest --mcp=devtools/chrome-devtools --yes)",
      "Bash(docker volume rm:*)",
      "Bash(awk:*)",
      "Bash(rm:*)",
      "Bash(VIDEO-SUBSCRIPTION-RESTART-FIX.md )",
      "Bash(VIDEO-NAVIGATION-RACE-CONDITION-FIXED.md )",
      "Bash(VEO-API-FIX-FINAL.md )",
      "Bash(FINAL-FIX-CURRENTSEGMENT.md )",
      "Bash(STORY-GENERATION-FIX.md )",
      "Bash(UI-UPDATES-COMPLETE.md )",
      "Bash(ASYNC-VIDEO-DEPLOYMENT-COMPLETE.md )",
      "Bash(ASYNC-VIDEO-IMPLEMENTATION-COMPLETE.md )",
      "Bash(ASYNC-VIDEO-GENERATION-DESIGN.md )",
      "Bash(VEO-FIX-COMPLETE.md )",
      "Bash(VEO-API-ISSUE-AND-FIX.md )",
      "Bash(VIDEO-ASPECT-RATIO-INVESTIGATION.md )",
      "Bash(VIDEO-STORAGE-UPLOAD-ISSUE.md )",
      "Bash(ALL-FIXES-COMPLETE.md )",
      "Bash(FIXES-COMPLETE-READY-TO-TEST.md )",
      "Bash(CHOICE-BUTTON-FIX-DEEP-DIVE.md )",
      "Bash(ASPECT-RATIO-AND-PERFORMANCE-FIXES.md )",
      "Bash(VIDEO-PERFORMANCE-ANALYSIS.md )",
      "Bash(CRITICAL-VIDEO-URL-DATA-LOSS-FIX.md )",
      "Bash(PHASE-2-IMPROVEMENTS-COMPLETE.md )",
      "Bash(AUDIO-FIX-SUMMARY.md )",
      "Bash(STORY-VIEWER-CONSOLIDATION-PLAN.md )",
      "Bash(TALE-FORGE-COMPREHENSIVE-ANALYSIS.md )",
      "Bash(STORY-VIEWER-INDEX.md )",
      "Bash(STORY_PERSISTENCE_INDEX.md )",
      "Bash(V2-ANALYSIS-INDEX.md )",
      "Bash(STORY_PERSISTENCE_SUMMARY.md )",
      "Bash(STORY_CODE_REFERENCE.md )",
      "Bash(STORY_PERSISTENCE_ANALYSIS.md )",
      "Bash(V2-SYSTEM-OVERVIEW.md )",
      "Bash(V2-CODE-SNIPPETS-REFERENCE.md )",
      "Bash(STORY-VIEWER-QUICK-REFERENCE.md )",
      "Bash(V2-BACKEND-SYSTEM-ANALYSIS.md )",
      "Bash(STORY-VIEWER-ANALYSIS.md )",
      "Bash(CHROME-REMOTE-DEBUG-SETUP.md )",
      "Bash(DATABASE-SCHEMA-FIXED.md )",
      "Bash(VIDEO-RETRY-FIX.md )",
      "Bash(FINAL-CACHE-CLEARED.md )",
      "Bash(VIDEO-GENERATION-NOW-WORKING.md )",
      "Bash(VEO-API-FIXED.md )",
      "Bash(DIAGNOSIS-COMPLETE.md )",
      "Bash(VEO-API-COMPLETE-GUIDE.md )",
      "Bash(REAL-FIX-APPLIED.md )",
      "Bash(TEST-NOW-WITH-BROWSER.md )",
      "Bash(CURRENT-STATUS-VIDEO-GENERATION.md )",
      "Bash(DEBUG-WHATS-DIFFERENT.md )",
      "Bash(FINAL-FIX-INSTRUCTIONS.md )",
      "Bash(FIX-COMPLETE-TEST-NOW.md )",
      "Bash(FIX-CONFIRMED-WORKING.md )",
      "Bash(VIDEO-GENERATION-FIX.md)",
      "Bash(FEATURE-IMPLEMENTATION-PLAN.md )",
      "Bash(FEATURE-AUDIT-SOCIAL-POSTS.md )",
      "Bash(DRY-RUN-RESULTS.md )",
      "Bash(DEPLOYMENT-TEST-RESULTS.md )",
      "Bash(DEPLOYMENT-INSTRUCTIONS.md )",
      "Bash(DEPLOYMENT-COMPLETE.md )",
      "Bash(DEPLOYMENT-COMPLETE-SUMMARY.md )",
      "Bash(DEPLOYMENT-CHECKLIST-BETA-LAUNCH.md )",
      "Bash(CRITICAL-FIXES-IMPLEMENTATION.md )",
      "Bash(CRITICAL-FIXES-COMPLETE.md )",
      "Bash(CRITICAL-CREDIT-FIX-COMPLETE.md )",
      "Bash(COST-BREAKDOWN-ANALYSIS.md )",
      "Bash(COMPREHENSIVE-PERFORMANCE-AUDIT-2025.md )",
      "Bash(COMPREHENSIVE-CODEBASE-AUDIT-2025.md )",
      "Bash(CHOICE-IMPACT-FINE-TUNING-SUMMARY.md )",
      "Bash(CHARACTER-MEMORY-MIGRATION-GUIDE.md )",
      "Bash(CHARACTER-MEMORY-IMPLEMENTATION-CHECKLIST.md )",
      "Bash(BETA-LAUNCH-IMPROVEMENTS-SUMMARY.md )",
      "Bash(BETA-LAUNCH-FEATURES.md )",
      "Bash(AUDIT-SUMMARY.md )",
      "Bash(AUDIT-FIXES-COMPLETE.md )",
      "Bash(AUDIT-EXECUTION-REPORT.md )",
      "Bash(AUDIT-ACTION-CHECKLIST.md )",
      "Bash(APOLOGY-EMAIL-TEMPLATE.md )",
      "Bash(API-CALLS-AND-CREDITS-ANALYSIS.md )",
      "Bash(AI-STORY-GENERATION-AUDIT-REPORT.md )",
      "Bash(DEV-ENVIRONMENT-FIX-GUIDE.md )",
      "Bash(test-preview-images.md )",
      "Bash(security-audit-report.md )",
      "Bash(SWEDISH-VOICE-RECOMMENDATIONS.md )",
      "Bash(STORYVIEWER_ENHANCEMENTS.md )",
      "Bash(SECURITY-RECOMMENDATIONS.md )",
      "Bash(LAUNCH-READINESS-CHECKLIST.md )",
      "Bash(IMMEDIATE-ACTIONS.md )",
      "Bash(FOUNDATION-HARDENING-STATUS.md )",
      "Bash(COMPREHENSIVE-AUDIT-REPORT.md )",
      "Bash(Freepik)",
      "Bash(mkdir:*)",
      "Bash(mv:*)",
      "Bash(timeout 10 bash:*)",
      "Bash(/home/ubuntu/image-wise-learn-62/src/integrations/supabase/types.ts)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Add Story Lifecycle System with Ready state and per-chapter asset management\n\nMajor new feature: Comprehensive story lifecycle enhancement with \"ready\" state\nbetween draft and finalized, plus per-chapter asset management.\n\nDatabase Schema Changes:\n- Add lifecycle_status field: draft â†’ ready â†’ finalized\n- Add visibility field: private/public/unlisted\n- Add version tracking (increments on each finalize)\n- Add per-chapter voice/animation/details tracking\n- Add story-level metadata: tags, age_range, allow_featuring\n- Migrate existing data to new schema\n\nNew Database Functions:\n- get_story_readiness() - Returns comprehensive asset status\n- mark_story_ready() - Transitions draft â†’ ready\n- finalize_story() - Finalizes with visibility choice\n- unfinalize_story() - Returns to ready for re-editing\n- story_lifecycle_summary view - Quick status overview\n\nFrontend Components:\n- StoryReady page - Chapter-centric asset management UI\n- FinalizeModal - 2-step finalization with warning checklist\n- Status badges for voice/animation/details per chapter\n- Readiness summary dashboard\n\nStory Ending Fixes:\n- Fix \"End Story\" to properly generate endings with no choices\n- Detect THE_END choice and set shouldBeEnding flag\n- Auto-mark story as completed after ending generation\n- Redirect to completion page after finalization\n\nDashboard Improvements:\n- Separate in-progress and completed stories\n- Show story thumbnails with fallback chain\n- Add text overlays with gradient backgrounds\n- Fix cache issue causing stale component rendering\n\nDocumentation:\n- STORY-LIFECYCLE-IMPLEMENTATION-STATUS.md - Full status tracking\n- Clean up 180+ old documentation files\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  },
  "disabledMcpjsonServers": [
    "memory",
    "playwright",
    "puppeteer",
    "context7",
    "github",
    "fetch",
    "supabase",
    "chrome-devtools"
  ]
}
